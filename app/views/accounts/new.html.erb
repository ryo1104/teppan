<script type="text/javascript" src="//jpostal-1006.appspot.com/jquery.jpostal.js"></script>
<div class="page-body-container">
  <div class="row">
    <div class="col s12 m9 user-page">
      <h1 class="h1_class">ご本人様情報</h1>
      <ul class="collection z-depth-1 user-page">
        <%= form_with url: user_accounts_path(@user.id), local: true, method: :post do |f| %>
          <%= label_tag '姓（漢字）' %>
          <%= f.text_field :last_name_kanji %>
          <%= label_tag '姓（カナ）' %>
          <%= f.text_field :last_name_kana %>
          <%= label_tag '名（漢字）' %>
          <%= f.text_field :first_name_kanji %>
          <%= label_tag '名（カナ）' %>
          <%= f.text_field :first_name_kana %>
          <%= label_tag '性別' %>
          <%= select_tag :gender, options_for_select([["男性","male"], ["女性","female"]]), {:class => "browser-default"} %>
          <%= label_tag 'メールアドレス' %>
          <%= f.text_field :email, :value => @user.email %>

          <%= label_tag '生年月日' %>
          <%= f.date_select :birthdate,
                    {:start_year => 1930, 
                     :end_year => (Time.zone.now.year - 18),
                     :include_blank => true,
                    }, 
                    {:class => 'form-control date-select'} 
          %>

          <%= label_tag '郵便番号' %><br>
          <%= f.text_field :postal_code, :id => "zip" %><br>
          
          <%= label_tag '住所' %><br>
          <%= f.text_field :state, :id => "prefecture_code" %><br>
          <%= f.text_field :city,  :id => "address_city" %><br>
          <%= f.text_field :town,  :id => "address_town" %><br>
          <%= label_tag '番地・号（漢字）' %>
          <%= f.text_field :kanji_line1 %>
          <%= f.text_field :kanji_line2 %>
          <%= label_tag '番地・号（かな）' %>
          <%= f.text_field :kana_line1 %>
          <%= f.text_field :kana_line2 %>
          <br>
          
          <%= label_tag '電話番号' %>
          <%= f.text_field :phone %>
          <br>

          <label class="custom">
            <%= check_box_tag :user_agreement, true, false, {:class => 'reset-checkbox'} %>
            <span>利用規約に同意</span>
          </label>
          <br>
          
          <br>
          <%= f.submit %>
        <% end %>

      </ul>
    </div>
  </div>
</div>

<script>
$(function () {
	$('#zip').jpostal({
		postcode : [
			'#zip'
		],
		address : {
      "#prefecture_code" : "%3",
      "#address_city"    : "%4",
      "#address_town"  : "%5%6%7"
		}
	});
});
</script>
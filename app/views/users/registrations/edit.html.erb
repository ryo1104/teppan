
<% @page_title = "アカウント編集" %>
<% breadcrumb :edit_user_registration, current_user %>
<div class="page-body-container">
  <p><%= breadcrumbs separator: "  &rsaquo;  ", :class => "breadcrumbs custom" %></p>
  <div class="row">
    <div class="col s12 m6 user-page">
      <h1 class="h1_class">メールアドレス・パスワード編集</h1>
      <ul class="collection z-depth-0 user-page">
        <li class="collection-item">
          <%= form_for(resource, as: resource_name, url: user_registration_path, html: { method: :put }) do |f| %>
            <%= devise_error_messages! %>
          
            <div class="field">
              <%= f.label :email %><br>
              <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
            </div>
          
            <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
              <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
            <% end %>
            
            <div class="field">
              <%= f.label :current_password %><br>
              <%= f.password_field :current_password, autocomplete: "current-password" %>
            </div>
          
            <div class="field">
              <%= f.label :new_password %>
              <% if @minimum_password_length %>
                <em>最短<%= @minimum_password_length %>文字</em>
              <% end %><br>
              <%= f.password_field :password, autocomplete: "new-password" %>
            </div>
          
            <div class="field">
              <%= f.label :password_confirmation %><br>
              <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
            </div>
          
            <%= button_tag :type => "submit", class: "btn btn-primary withripple custom" do %>
              <i class="material-icons left">refresh</i>更新
            <% end %>
          
          <% end %>
        </li>
      </ul>
      <h1 class="h1_class">退会</h1>
      <%= link_to registration_path(resource_name), {:method => :delete, :class => 'btn btn-primary withripple custom', data: { confirm: "本当に退会しますか？" }} do %>
        <i class="material-icons left">exit_to_app</i>
        <span>退会</span><br>
      <% end %>
    </div>
  </div>
</div>